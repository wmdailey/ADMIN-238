{"apiVersion":"apps/v1","items":[{"apiVersion":"apps/v1","data":{"spec":{"template":{"$patch":"replace","metadata":{"annotations":{"checksum/config":"85aef8d51e829e0108c5135b1ec17e537aa1310d458ed94b8bbdda38f45f6a7d"},"creationTimestamp":null,"labels":{"app.kubernetes.io/component":"nats","app.kubernetes.io/instance":"testkube","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"nats","app.kubernetes.io/version":"2.10.22","helm.sh/chart":"nats-1.2.6-3"}},"spec":{"containers":[{"args":["--config","/etc/nats-config/nats.conf"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"SERVER_NAME","value":"$(POD_NAME)"}],"image":"nats:2.10.24-alpine","imagePullPolicy":"IfNotPresent","lifecycle":{"preStop":{"exec":{"command":["nats-server","-sl=ldm=/var/run/nats/nats.pid"]}}},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/healthz?js-enabled-only=true","port":"monitor","scheme":"HTTP"},"initialDelaySeconds":10,"periodSeconds":30,"successThreshold":1,"timeoutSeconds":5},"name":"nats","ports":[{"containerPort":4222,"name":"nats","protocol":"TCP"},{"containerPort":8222,"name":"monitor","protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"httpGet":{"path":"/healthz?js-server-only=true","port":"monitor","scheme":"HTTP"},"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"resources":{},"startupProbe":{"failureThreshold":90,"httpGet":{"path":"/healthz","port":"monitor","scheme":"HTTP"},"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/etc/nats-config","name":"config"},{"mountPath":"/var/run/nats","name":"pid"},{"mountPath":"/data","name":"testkube-nats-js"}]},{"args":["-pid","/var/run/nats/nats.pid","-config","/etc/nats-config/nats.conf"],"image":"natsio/nats-server-config-reloader:0.16.0","imagePullPolicy":"IfNotPresent","name":"reloader","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/nats","name":"pid"},{"mountPath":"/etc/nats-config","name":"config"}]}],"dnsPolicy":"ClusterFirst","enableServiceLinks":false,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"shareProcessNamespace":true,"terminationGracePeriodSeconds":30,"volumes":[{"configMap":{"defaultMode":420,"name":"testkube-nats-config"},"name":"config"},{"emptyDir":{},"name":"pid"}]}}}},"kind":"ControllerRevision","metadata":{"annotations":{"meta.helm.sh/release-name":"testkube","meta.helm.sh/release-namespace":"testkube"},"creationTimestamp":"2025-05-18T16:32:34Z","labels":{"app.kubernetes.io/component":"nats","app.kubernetes.io/instance":"testkube","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"nats","app.kubernetes.io/version":"2.10.22","controller.kubernetes.io/hash":"7c78499ddd","helm.sh/chart":"nats-1.2.6-3"},"name":"testkube-nats-7c78499ddd","namespace":"testkube","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"StatefulSet","name":"testkube-nats","uid":"b135cfe6-ff34-48ff-aab0-49a43d9072b4"}],"resourceVersion":"27051","uid":"c1d6d8e6-9b64-43fd-a5cf-c0676f0e5048"},"revision":1}],"kind":"ControllerRevisionList","metadata":{"resourceVersion":"38425"}}
