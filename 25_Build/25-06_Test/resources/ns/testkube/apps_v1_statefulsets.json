{"apiVersion":"apps/v1","items":[{"apiVersion":"apps/v1","kind":"StatefulSet","metadata":{"annotations":{"meta.helm.sh/release-name":"testkube","meta.helm.sh/release-namespace":"testkube"},"creationTimestamp":"2025-05-18T16:32:34Z","generation":1,"labels":{"app.kubernetes.io/component":"nats","app.kubernetes.io/instance":"testkube","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"nats","app.kubernetes.io/version":"2.10.22","helm.sh/chart":"nats-1.2.6-3"},"name":"testkube-nats","namespace":"testkube","resourceVersion":"27344","uid":"b135cfe6-ff34-48ff-aab0-49a43d9072b4"},"spec":{"persistentVolumeClaimRetentionPolicy":{"whenDeleted":"Retain","whenScaled":"Retain"},"podManagementPolicy":"Parallel","replicas":1,"revisionHistoryLimit":10,"selector":{"matchLabels":{"app.kubernetes.io/component":"nats","app.kubernetes.io/instance":"testkube","app.kubernetes.io/name":"nats"}},"serviceName":"testkube-nats-headless","template":{"metadata":{"annotations":{"checksum/config":"85aef8d51e829e0108c5135b1ec17e537aa1310d458ed94b8bbdda38f45f6a7d"},"creationTimestamp":null,"labels":{"app.kubernetes.io/component":"nats","app.kubernetes.io/instance":"testkube","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"nats","app.kubernetes.io/version":"2.10.22","helm.sh/chart":"nats-1.2.6-3"}},"spec":{"containers":[{"args":["--config","/etc/nats-config/nats.conf"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"SERVER_NAME","value":"$(POD_NAME)"}],"image":"nats:2.10.24-alpine","imagePullPolicy":"IfNotPresent","lifecycle":{"preStop":{"exec":{"command":["nats-server","-sl=ldm=/var/run/nats/nats.pid"]}}},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/healthz?js-enabled-only=true","port":"monitor","scheme":"HTTP"},"initialDelaySeconds":10,"periodSeconds":30,"successThreshold":1,"timeoutSeconds":5},"name":"nats","ports":[{"containerPort":4222,"name":"nats","protocol":"TCP"},{"containerPort":8222,"name":"monitor","protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"httpGet":{"path":"/healthz?js-server-only=true","port":"monitor","scheme":"HTTP"},"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"resources":{},"startupProbe":{"failureThreshold":90,"httpGet":{"path":"/healthz","port":"monitor","scheme":"HTTP"},"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/etc/nats-config","name":"config"},{"mountPath":"/var/run/nats","name":"pid"},{"mountPath":"/data","name":"testkube-nats-js"}]},{"args":["-pid","/var/run/nats/nats.pid","-config","/etc/nats-config/nats.conf"],"image":"natsio/nats-server-config-reloader:0.16.0","imagePullPolicy":"IfNotPresent","name":"reloader","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/nats","name":"pid"},{"mountPath":"/etc/nats-config","name":"config"}]}],"dnsPolicy":"ClusterFirst","enableServiceLinks":false,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"shareProcessNamespace":true,"terminationGracePeriodSeconds":30,"volumes":[{"configMap":{"defaultMode":420,"name":"testkube-nats-config"},"name":"config"},{"emptyDir":{},"name":"pid"}]}},"updateStrategy":{"rollingUpdate":{"partition":0},"type":"RollingUpdate"},"volumeClaimTemplates":[{"apiVersion":"v1","kind":"PersistentVolumeClaim","metadata":{"creationTimestamp":null,"name":"testkube-nats-js"},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"10Gi"}},"volumeMode":"Filesystem"},"status":{"phase":"Pending"}}]},"status":{"availableReplicas":1,"collisionCount":0,"currentReplicas":1,"currentRevision":"testkube-nats-7c78499ddd","observedGeneration":1,"readyReplicas":1,"replicas":1,"updateRevision":"testkube-nats-7c78499ddd","updatedReplicas":1}}],"kind":"StatefulSetList","metadata":{"resourceVersion":"38426"}}
